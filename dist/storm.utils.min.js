!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.StormUtils=t()}(this,function(){"use strict";function e(t,n){"object"!=typeof t&&(t={});for(var o in n)if(n.hasOwnProperty(o)){var r=n[o];if("object"==typeof r){t[o]=e(t[o],r);continue}t[o]=r}for(var i=2,a=arguments.length;a>i;i++)e(t,arguments[i]);return t}function t(e,t,n){t.split(" ").forEach(function(t){e.addEventListener(t,n,!1)})}function n(e,t,n){var o;return function(){var r=this,i=arguments,a=function(){o=null,n||e.apply(r,i)};n&&!o&&e.apply(r,i),window.clearTimeout(o),o=window.setTimeout(a,t)}}function o(e,t){var n,o=0;return function(){var r=arguments,i=this,a=+new Date,s=function(){o=a,e.apply(i,r)};window.clearTimeout(n),a>=o+t?s():n=window.setTimeout(s,t)}}function r(e,t){var n=document.createElement("script"),o=window.setTimeout(function(){t("Script "+e+" failed to load in time.")},5e3);n.src=e,n.onload=function(){window.clearTimeout(o),t()},document.body.appendChild(n)}function i(e,t,n,o){var r=new XMLHttpRequest,i=t||"GET",a=o||null;e&&(r.open(i,e,!0),"POST"===i&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4==r.readyState&&200==r.status&&n&&n(null,r.responseText)},r.onerror=function(){n&&n("Error")},r.send(a))}function a(e){var t,n,o=[];if("object"!=typeof e||"FORM"!=e.nodeName)return console.log("Cannot serialize form");n=e.elements.length;for(var r=0;n>r;r++)if(t=e.elements[r],t.name&&!t.disabled&&"file"!=t.type&&"reset"!=t.type&&"submit"!=t.type&&"button"!=t.type)if("select-multiple"==t.type)for(var i=e.elements[r].options.length-1;i>=0;i--)t.options[i].selected&&(o[o.length]=encodeURIComponent(t.name)+"="+encodeURIComponent(t.options[i].value));else("checkbox"!=t.type&&"radio"!=t.type||t.checked)&&(o[o.length]=encodeURIComponent(t.name)+"="+encodeURIComponent(t.value));return o.join("&").replace(/%20/g,"+")}function s(e,t){if(e.closest)return e.closest(t);var n=e.matches||e.msMatchesSelector;do if(1==e.nodeType&&n.call(e,t))return e;while(e=e.parentNode);return void 0}function u(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'\/]/g,function(e){return t[e]})}var c={add:function(e,t){return e.className=e.className+" "+t,this},remove:function(e,t){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return e.className=e.className.replace(n," "),this},has:function(e,t){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return n.test(e.className)},toggle:function(e,t){return c.has(e,t)?c.remove(e,t):e.className=e.className+" "+t,this}},l={add:function(e,t){for(var n in t)e.setAttribute(n,t[n]);return this},toggle:function(e,t){return e.setAttribute(t,"true"===e.getAttribute(t)?!1:!0),this}};return{throttle:o,debounce:n,merge:e,on:t,classlist:c,attributelist:l,loadJS:r,serialize:a,xhr:i,closest:s,escapeHTML:u}});